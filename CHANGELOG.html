<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • grf</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>



  
  <script src="extra.js"></script>

<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">grf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="articles/grf.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/categorical_inputs.html">Categorical inputs</a>
    </li>
    <li>
      <a href="articles/ci_and_num.trees.html">Confidence intervals and the number of trees</a>
    </li>
    <li>
      <a href="articles/muhats.html">Estimating conditional means</a>
    </li>
    <li>
      <a href="articles/diagnostics.html">Evaluating a causal forest fit</a>
    </li>
    <li>
      <a href="articles/llf.html">Local linear forests</a>
    </li>
    <li>
      <a href="articles/policy_learning.html">Policy learning</a>
    </li>
    <li>
      <a href="articles/sample_weighting_examples.html">Sample weighting</a>
    </li>
    <li>
      <a href="articles/visualize_tree.html">Visualize trees</a>
    </li>
  </ul>
</li>
<li>
  <a href="REFERENCE.html">Algorithm reference</a>
</li>
<li>
  <a href="DEVELOPING.html">Developing</a>
</li>
<li>
  <a href="CHANGELOG.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/grf-labs/grf">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Changelog</h1>
    </div>

<div id="changelog" class="section level1">

<p>All notable changes to <code>grf</code> will be documented in this file.</p>
<p>The format is based on <a href="http://keepachangelog.com/en/1.0.0/">Keep a Changelog</a> and this project adheres to <a href="http://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<div id="202---2021-07-14" class="section level2">
<h2 class="hasAnchor">
<a href="#202---2021-07-14" class="anchor"></a>[2.0.2] - 2021-07-14</h2>
<div id="fixed" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed" class="anchor"></a>Fixed</h3>
<ul>
<li>Minor patch release for CRAN Solaris compatibility. <a href="https://github.com/grf-labs/grf/pull/1011">#1011</a>
</li>
</ul>
</div>
</div>
<div id="200---2021-06-22" class="section level2">
<h2 class="hasAnchor">
<a href="#200---2021-06-22" class="anchor"></a>[2.0.0] - 2021-06-22</h2>
<div id="changed-breaking" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-breaking" class="anchor"></a>Changed (breaking)</h3>
<p><strong>IMPORTANT</strong> Some of these changes might cause small differences in results compared to previous releases, even if the same random seed is used.</p>
<ul>
<li>Unify the interface to ATE-type estimators: 1) <code>average_treatment_effect</code> is the new entry point for all ATE summaries, meaning <code>average_late</code> and <code>average_partial_effect</code> is removed. 2) This function now targets population-type quantities for all forests, meaning some confidence intervals may be slightly wider than before. 3) Some ad-hoc normalization schemes are removed, but can be manually specified through the <code>debiasing.weights</code> argument. <a href="https://github.com/grf-labs/grf/pull/723">#723</a>
</li>
<li>Remove all <code>tune_***_forest</code> functions, restricting the tuning interface to the pre-existing <code>tune.parameters</code> argument in all tuning-compatible forests. <a href="https://github.com/grf-labs/grf/pull/790">#790</a>
</li>
<li>Remove the optional <code>orthog.boosting</code> argument in <code>causal_forest</code>, since tailored <code>m(x)</code> estimates can be passed through the existing <code>Y.hat</code> argument. <a href="https://github.com/grf-labs/grf/pull/892">#892</a>
</li>
<li>Remove support for sparse <code>X</code> in forest training (as the internal C++ implementation did not leverage sparsity in <code>X</code> beyond storage mode). To train a forest with sparse data do <code>forest(as.matrix(X), Y)</code>. <a href="https://github.com/grf-labs/grf/pull/939">#939</a>
</li>
<li>Remove <code>custom_forest</code>. For a template for getting started with a custom GRF estimator, consider using an existing simple forest, like <code>regression_forest</code> as a scaffold. For more details see the GRF <a href="https://grf-labs.github.io/grf/DEVELOPING.html">developing document</a>. <a href="https://github.com/grf-labs/grf/pull/870">#870</a>
</li>
<li>Rename <code>get_sample_weights</code> to <code>get_forest_weights</code>. <a href="https://github.com/grf-labs/grf/pull/894">#894</a>
</li>
<li>Return <code>quantile_forest</code> predictions in the <code>predictions</code> attribute of a new output list in order to conform with the GRF convention of returning point predictions as <code>predict(forest)$predictions</code>. <a href="https://github.com/grf-labs/grf/pull/822">#822</a>
</li>
<li>Change the way optional sample weights (passed through the <code>sample.weights</code> argument) interact with the GRF forest weights. When forming estimates according to (2) and (3) in the <a href="https://arxiv.org/pdf/1610.01271.pdf">GRF paper</a>, sample weights now enter through alpha_i(x)’ = alpha_i(x) * sample.weight_i. In addition, <code>causal_forest</code> and <code>instrumental_forest</code> now take sample weights into account in the relabeling step (<a href="https://github.com/grf-labs/grf/pull/752">#752</a>). Sample weights are also explicitly disabled for local linear forests (<a href="https://github.com/grf-labs/grf/pull/841">#841</a>). <a href="https://github.com/grf-labs/grf/issues/796">#796</a>
</li>
</ul>
</div>
<div id="added" class="section level3">
<h3 class="hasAnchor">
<a href="#added" class="anchor"></a>Added</h3>
<ul>
<li>Add <code>causal_survival_forest</code> for estimating conditional average treatment effects with right-censored data. <a href="https://github.com/grf-labs/grf/pull/660">#660</a>
</li>
<li>Add <code>multi_arm_causal_forest</code>, an extension of <code>causal_forest</code> to multiple categorial treatments <code>W</code>, and optionally multiple responses <code>Y</code>. <a href="https://github.com/grf-labs/grf/pull/748">#748</a>
</li>
<li>Add <code>multi_regression_forest</code> for estimating several conditional mean functions mu_i(x) = E[Y_i | X = x]. <a href="https://github.com/grf-labs/grf/pull/742">#742</a>
</li>
<li>Add <code>probability_forest</code> for estimating conditional class probabilities P[Y = k | X = x]. <a href="https://github.com/grf-labs/grf/pull/711">#711</a>
</li>
<li>Add <code>get_scores</code> returning doubly robust scores for a number of estimands. <a href="https://github.com/grf-labs/grf/pull/732">#732</a>
</li>
<li>Add <code>get_leaf_node</code> utility function which given a GRF tree object returns the leaf node a test sample falls into. <a href="https://github.com/grf-labs/grf/pull/739">#739</a>
</li>
<li>Add a <code>vcov.type</code> standard error option to <code>test_calibration</code> and <code>best_linear_projection</code>. On large datasets with clusters, setting this option to <code>"HC0"</code> or <code>"HC1"</code> will significantly speed up the computation.</li>
<li>Add optional Nelson-Aalen estimates of the survival function. <a href="https://github.com/grf-labs/grf/pull/685">#685</a>
</li>
<li>Add a docstring example to <code>survival_forest</code> on how to calculate concordance with the optional <code>survival</code> package. <a href="https://github.com/grf-labs/grf/pull/956">#956</a>
</li>
</ul>
</div>
<div id="fixed-1" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-1" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix the output name in <code>average_treatment_effect</code> when <code>method = "TMLE"</code>. <a href="https://github.com/grf-labs/grf/pull/864">#864</a>
</li>
<li>Fix pointwise variance estimates in (the very unlikely) zero variance case. <a href="https://github.com/grf-labs/grf/pull/907">#907</a>
</li>
<li>Fix <code>survival_forest</code> test set predictions with sample weights. <a href="https://github.com/grf-labs/grf/pull/969">#969</a>
</li>
<li>Make forest tuning respect the <code>seed</code> argument when drawing a random grid of parameter values, allowing reproducibility without an explicit <code>set.seed</code> before training. <a href="https://github.com/grf-labs/grf/pull/704">#704</a>
</li>
</ul>
</div>
</div>
<div id="120---2020-06-04" class="section level2">
<h2 class="hasAnchor">
<a href="#120---2020-06-04" class="anchor"></a>[1.2.0] - 2020-06-04</h2>
<div id="added-1" class="section level3">
<h3 class="hasAnchor">
<a href="#added-1" class="anchor"></a>Added</h3>
<ul>
<li>Add Survival Forest functionality. <a href="https://github.com/grf-labs/grf/pull/647">#647</a>
</li>
<li>Add optional argument <code>debiasing.weights</code> to <code>average_partial_effect</code>. <a href="https://github.com/grf-labs/grf/pull/637">#637</a>
</li>
<li>Add optional <code>compute.oob.predictions</code> argument to Quantile Forest. <a href="https://github.com/grf-labs/grf/pull/665">#665</a>
</li>
</ul>
</div>
<div id="fixed-2" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-2" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix a performance regression in DefaultPredictionCollector. This improves prediction speed for forests such as Quantile Forest. <a href="https://github.com/grf-labs/grf/pull/650">#650</a>
</li>
<li>Predict with training quantiles by default. <a href="https://github.com/grf-labs/grf/pull/668">#668</a>
</li>
</ul>
</div>
</div>
<div id="110---2020-03-12" class="section level2">
<h2 class="hasAnchor">
<a href="#110---2020-03-12" class="anchor"></a>[1.1.0] - 2020-03-12</h2>
<div id="changed-breaking-1" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-breaking-1" class="anchor"></a>Changed (breaking)</h3>
<p><strong>IMPORTANT</strong> These changes might cause small differences in results compared to previous releases, even if the same random seed is used.</p>
<ul>
<li>Performance improvement: remove an unnecessary splitting rule loop. Note: this may cause very small differences from earlier versions because it changes the order in which potential splits are evaluated. <a href="https://github.com/grf-labs/grf/pull/592">#592</a>
</li>
</ul>
</div>
<div id="added-2" class="section level3">
<h3 class="hasAnchor">
<a href="#added-2" class="anchor"></a>Added</h3>
<ul>
<li>Add support for missing values in the covariates X with <a href="https://github.com/grf-labs/grf/issues/457">MIA</a> splitting. <a href="https://github.com/grf-labs/grf/pull/612">#612</a>
</li>
<li>Add local linear splitting. An experimental option <code>enable.ll.split</code> fits a forest with splits based on ridge residuals as opposed to standard CART splits. Note: local linear tuning does not take the new splits into account. <a href="https://github.com/grf-labs/grf/pull/603">#603</a>
</li>
<li>Add sample weighted splitting. Previously, if a user passed <code>sample.weights</code>, they would only be used for prediction. Now they are used in splitting as well. Note: this will make results fitted with sample weights different from previous versions. <a href="https://github.com/grf-labs/grf/pull/590">#590</a>
</li>
</ul>
</div>
<div id="fixed-3" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-3" class="anchor"></a>Fixed</h3>
<ul>
<li>Remove a superfluous predict call in tuning. <a href="https://github.com/grf-labs/grf/pull/597">#597</a>
</li>
<li>Fix <code>average_partial_effect</code> calibration in case of low variation W.hat. <a href="https://github.com/grf-labs/grf/pull/611">#611</a>
</li>
<li>Update <code>best_linear_projection</code> to handle non-binary treatment. <a href="https://github.com/grf-labs/grf/pull/615">#615</a>
</li>
<li>Add an error message in case summary functions are passed a subset that refers to too few distinct units. <a href="https://github.com/grf-labs/grf/pull/629">#629</a>
</li>
</ul>
</div>
</div>
<div id="101---2019-12-05" class="section level2">
<h2 class="hasAnchor">
<a href="#101---2019-12-05" class="anchor"></a>[1.0.1] - 2019-12-05</h2>
<div id="fixed-4" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-4" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix a bug where the nodes of the printed trees would be in the wrong order. <a href="https://github.com/grf-labs/grf/pull/587">#587</a>
</li>
</ul>
</div>
</div>
<div id="100---2019-11-29" class="section level2">
<h2 class="hasAnchor">
<a href="#100---2019-11-29" class="anchor"></a>[1.0.0] - 2019-11-29</h2>
<div id="changed-breaking-2" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-breaking-2" class="anchor"></a>Changed (breaking)</h3>
<p><strong>IMPORTANT</strong> These changes might cause small differences in results compared to previous releases, even if the same random seed is used.</p>
<ul>
<li>Rename <code>prune.empty.leaves</code> to <code>honesty.prune.leaves</code>. <a href="https://github.com/grf-labs/grf/pull/529">#529</a>
</li>
<li>Simplify the forest tuning API. Previously, tuning was enabled during forest training by setting the option <code>tune.parameters=TRUE</code>. All relevant parameters were tuned by default, except for those that were explicitly passed to the forest (like <code>min.node.size=100</code>). Now the option <code>tune.parameters</code> directly takes a list of parameters to tune, for example <code>tune.parameters=c("min.node.size", "mtry")</code>, or <code>tune.parameters="all"</code>. <a href="https://github.com/grf-labs/grf/pull/534">#534</a>
</li>
<li>Change how data points are weighted in cluster-robust estimation. Previously, each cluster was given equal weight when training the forest and computing estimates. Now, each point is weighted equally regardless of its cluster size. This behavior can be controlled through a new option <code>equalize.cluster.weights</code>, which defaults to <code>FALSE</code> but can be set to <code>TRUE</code> to match the old behavior of weighting clusters equally. The old option <code>samples.per.cluster</code> has been removed. <a href="https://github.com/grf-labs/grf/pull/545">#545</a>.</li>
</ul>
</div>
<div id="added-3" class="section level3">
<h3 class="hasAnchor">
<a href="#added-3" class="anchor"></a>Added</h3>
<ul>
<li>Improve the performance of <code>get_tree</code>. <a href="https://github.com/grf-labs/grf/pull/528">#528</a>
</li>
<li>Add support for tuning instrumental forests (currently marked ‘experimental’). <a href="https://github.com/grf-labs/grf/pull/547">#547</a>
</li>
<li>Introduce optimizations to tree splitting. These improvements lead to a small speed-up in forest training. <a href="https://github.com/grf-labs/grf/pull/560">#560</a>, <a href="https://github.com/grf-labs/grf/pull/561">#561</a>
</li>
<li>Add <code>best_linear_projection</code>, a doubly robust estimate of the best linear projection of the conditional average treatment effect onto a set of covariates. <a href="https://github.com/grf-labs/grf/pull/574">#574</a>
</li>
<li>Speed up forest prediction by introducing additional parallelization. <a href="https://github.com/grf-labs/grf/pull/566">#566</a>, <a href="https://github.com/grf-labs/grf/pull/576">#576</a>
</li>
</ul>
</div>
<div id="fixed-5" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-5" class="anchor"></a>Fixed</h3>
<ul>
<li>Allow the data matrix <code>X</code> to be a data frame. <a href="https://github.com/grf-labs/grf/pull/540">#540</a>
</li>
<li>When merging forests, validate that all forests were trained on the same data. <a href="https://github.com/grf-labs/grf/pull/543">#543</a>
</li>
<li>Fix a major performance issue in <code>get_sample_weights</code>. <a href="https://github.com/grf-labs/grf/pull/578">#578</a>
</li>
</ul>
</div>
</div>
<div id="0104---2019-09-01" class="section level2">
<h2 class="hasAnchor">
<a href="#0104---2019-09-01" class="anchor"></a>[0.10.4] - 2019-09-01</h2>
<div id="changed-breaking-3" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-breaking-3" class="anchor"></a>Changed (breaking)</h3>
<p><strong>IMPORTANT</strong> These changes might cause small differences in results compared to previous releases, even if the same random seed is used.</p>
<ul>
<li>Ensure forest estimates are consistent across platforms. <a href="https://github.com/grf-labs/grf/pull/469">#469</a>, <a href="https://github.com/grf-labs/grf/pull/492">#492</a>
</li>
<li>The number of trees used for orthogonalization was changed from <code><a href="https://rdrr.io/r/base/Extremes.html">min(500, num.trees)</a></code> to <code><a href="https://rdrr.io/r/base/Extremes.html">max(50, num.trees / 4)</a></code>. <a href="https://github.com/grf-labs/grf/pull/439">#439</a>
</li>
<li>Solidify the parameter tuning procedure. If the optimization procedure fails, or if the selected parameters perform worse than defaults, we now return default parameters instead. <a href="https://github.com/grf-labs/grf/pull/455">#455</a>
</li>
<li>Introduce parameters <code>honesty.fraction</code> and <code>prune.empty.leaves</code> to help mitigate the effect of honesty on small datasets, and tune over them when <code>tune.parameters=TRUE</code>. <a href="https://github.com/grf-labs/grf/pull/456">#456</a>, <a href="https://github.com/grf-labs/grf/pull/484">#484</a>
</li>
</ul>
</div>
<div id="added-4" class="section level3">
<h3 class="hasAnchor">
<a href="#added-4" class="anchor"></a>Added</h3>
<ul>
<li>Add variance estimates for local linear forests. <a href="https://github.com/grf-labs/grf/pull/442">#442</a>
</li>
<li>Include information about leaf samples in plotting and printing. <a href="https://github.com/grf-labs/grf/pull/460">#460</a>
</li>
<li>Add example of saving a plot with DiagrammeRsvg. <a href="https://github.com/grf-labs/grf/pull/478">#478</a>
</li>
<li>Support average effect estimates for instrumental forests (ACLATE). <a href="https://github.com/grf-labs/grf/pull/490">#490</a>
</li>
</ul>
</div>
<div id="fixed-6" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-6" class="anchor"></a>Fixed</h3>
<ul>
<li>Performance improvements to forest training. <a href="https://github.com/grf-labs/grf/pull/514">#514</a>
</li>
</ul>
</div>
</div>
<div id="0103---2019-06-01" class="section level2">
<h2 class="hasAnchor">
<a href="#0103---2019-06-01" class="anchor"></a>[0.10.3] - 2019-06-01</h2>
<div id="changed-breaking-4" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-breaking-4" class="anchor"></a>Changed (breaking)</h3>
<p><strong>IMPORTANT</strong> These changes might cause small differences in results compared to previous releases, even if the same random seed is used.</p>
<ul>
<li>Fix two bugs in the termination criterion for tree splitting.
<ul>
<li>Remove the purity condition on outcomes during splitting. For all tree types, we used to stop splitting if all outcomes in a leaf are the same. This behavior does not make sense for causal forests (which incorporates other observations besides the outcome), so it was removed. <a href="https://github.com/grf-labs/grf/pull/362">#362</a>
</li>
<li>Stop splitting if the objective can no longer be improved. With this change, <code>causal_forest</code> may split slightly less aggressively. <a href="https://github.com/grf-labs/grf/pull/415">#415</a>
</li>
</ul>
</li>
</ul>
</div>
<div id="added-5" class="section level3">
<h3 class="hasAnchor">
<a href="#added-5" class="anchor"></a>Added</h3>
<ul>
<li>In out-of-bag prediction, return the Monte Carlo error alongside the debiased error. <a href="https://github.com/grf-labs/grf/pull/327">#327</a>
</li>
<li>Allow for passing a factor for the <code>cluster</code> parameter. <a href="https://github.com/grf-labs/grf/pull/329">#329</a>
</li>
<li>Support taking a union of forests through the <code>merge_forests</code> method. <a href="https://github.com/grf-labs/grf/pull/347">#347</a>
</li>
<li>Include a summary of the parameter tuning procedure in the forest object. <a href="https://github.com/grf-labs/grf/pull/419">#419</a>
</li>
<li>Add experimental support for sample weighting to regression, causal, and instrumental forests. <a href="https://github.com/grf-labs/grf/pull/376">#376</a>, <a href="https://github.com/grf-labs/grf/pull/418">#418</a>
</li>
<li>Add an experimental new forest type <code>boosted_regression_forest</code>, which applies boosting to regression forests. Allow boosting to be used during orthogonalization through the <code>orthog.boosting</code> parameter. <a href="https://github.com/grf-labs/grf/pull/388">#388</a>
</li>
</ul>
</div>
<div id="fixed-7" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-7" class="anchor"></a>Fixed</h3>
<ul>
<li>Improve input data validation. <a href="https://github.com/grf-labs/grf/pull/354">#354</a>, <a href="https://github.com/grf-labs/grf/pull/378">#378</a>, <a href="https://github.com/grf-labs/grf/pull/430">#430</a>
</li>
<li>Improve the <code>test_calibration</code> function by switching to one-sided p-values. <a href="https://github.com/grf-labs/grf/pull/370">#370</a>
</li>
<li>For custom forests, fix a bug in OOB prediction where the train and tests datasets were switched. <a href="https://github.com/grf-labs/grf/pull/372">#372</a>
</li>
<li>Decrease memory usage during training and out-of-bag prediction. <a href="https://github.com/grf-labs/grf/pull/408">#408</a>, <a href="https://github.com/grf-labs/grf/pull/412">#412</a>
</li>
<li>Allow roxygen to autogenerate the <code>NAMESPACE</code> file. <a href="https://github.com/grf-labs/grf/pull/423">#423</a>, <a href="https://github.com/grf-labs/grf/pull/428">#428</a>
</li>
</ul>
</div>
</div>
<div id="0102---2018-11-23" class="section level2">
<h2 class="hasAnchor">
<a href="#0102---2018-11-23" class="anchor"></a>[0.10.2] - 2018-11-23</h2>
<div id="added-6" class="section level3">
<h3 class="hasAnchor">
<a href="#added-6" class="anchor"></a>Added</h3>
<ul>
<li>Add support for confidence intervals in local linear regression forests.</li>
</ul>
</div>
<div id="changed" class="section level3">
<h3 class="hasAnchor">
<a href="#changed" class="anchor"></a>Changed</h3>
<ul>
<li>Allow samples_per_cluster to be larger than smallest cluster size.</li>
</ul>
</div>
<div id="fixed-8" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-8" class="anchor"></a>Fixed</h3>
<ul>
<li>Make sure average effect estimation doesn’t error on data with a single feature.</li>
<li>Fix a bug in local linear prediction where the penalty wasn’t properly calculated.</li>
<li>Fix two issues in causal forest tuning that could lead to unstable results.</li>
<li>Ensure that the ATE and APE functions correctly account for cluster membership.</li>
</ul>
</div>
</div>
<div id="0101---2018-09-23" class="section level2">
<h2 class="hasAnchor">
<a href="#0101---2018-09-23" class="anchor"></a>[0.10.1] - 2018-09-23</h2>
<div id="added-7" class="section level3">
<h3 class="hasAnchor">
<a href="#added-7" class="anchor"></a>Added</h3>
<ul>
<li>Add basic support for tree plotting (through the <code>plot</code> method).</li>
<li>Add the method <code>test_calibration</code>, which performs an omnibus test for presence of heterogeneity via calibration.</li>
<li>For local linear regression forests, add support for selecting the value of <code>ll.lambda</code> through cross-validation.</li>
<li>Introduce a training option <code>honesty.fraction</code> that can be used to specify the fraction of data that should be used in selecting splits vs. performing estimation. Note that this parameter is only relevant when honesty is enabled (the default).</li>
<li>Start a practical guide to the <code>grf</code> algorithm (<a href="https://github.com/grf-labs/grf/blob/master/REFERENCE.md" class="uri">https://github.com/grf-labs/grf/blob/master/REFERENCE.md</a>).</li>
<li>In <code>average_treatment_effect</code> and <code>average_partial_effect</code>, add an option <code>subset</code> to support estimating the treatment effect over a subsample of the data.</li>
</ul>
</div>
<div id="fixed-9" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-9" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix a bug in random sampling where features listed earlier in the data matrix were more likely to be selected for splitting.</li>
<li>Make sure that the sample indices returned in <code>get_tree</code> are 1-indexed, as opposed to 0-indexed.</li>
</ul>
</div>
</div>
<div id="0100---2018-05-08" class="section level2">
<h2 class="hasAnchor">
<a href="#0100---2018-05-08" class="anchor"></a>[0.10.0] - 2018-05-08</h2>
<div id="added-8" class="section level3">
<h3 class="hasAnchor">
<a href="#added-8" class="anchor"></a>Added</h3>
<ul>
<li>Replace the local.linear option with linear.correction.variables, which allows for a subset of variables to be considered during local linear regression.</li>
<li>Update causal_forest interface to allow user to specify Y.hat and W.hat. Note that these options supercede the precompute.nuisance parameter, which has been removed. To recreate the behavior of precompute.nuisance = TRUE, NULL can be provided for Y.hat and W.hat, and for precompute.nuisance = FALSE, Y.hat and W.hat should be 0.</li>
<li>Add a causal forest example with variable selection and parameter tuning.</li>
</ul>
</div>
<div id="changed-1" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-1" class="anchor"></a>Changed</h3>
<ul>
<li>Adjust the defaults for the causal forest tuning algorithm.</li>
</ul>
</div>
<div id="fixed-10" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-10" class="anchor"></a>Fixed</h3>
<ul>
<li>Prevent tuning down to a min.node.size of 0.</li>
</ul>
</div>
</div>
<div id="096---2018-04-13" class="section level2">
<h2 class="hasAnchor">
<a href="#096---2018-04-13" class="anchor"></a>[0.9.6] - 2018-04-13</h2>
<div id="added-9" class="section level3">
<h3 class="hasAnchor">
<a href="#added-9" class="anchor"></a>Added</h3>
<ul>
<li>Debiased error criterion for measuring the out-of-bag accuracy of a forest using only a few trees.</li>
<li>Automated tuning via cross-validation for regression and causal forests.</li>
<li>Estimation of average partial effects with a continuous treatment.</li>
<li>Overlap-weighted average treatment effects.</li>
<li>Cluster-robust standard errors for regression and causal forests, and average effect estimates (contributed by @lminer).</li>
<li>Locally linear prediction in regression forests (contributed by @rinafriedberg).</li>
<li>Regularize splits in causal/instrumental forests via a variance penalty.</li>
</ul>
</div>
<div id="changed-2" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-2" class="anchor"></a>Changed</h3>
<ul>
<li>Avoid causal forest leaves with all treated or all control samples (controlled via stabilize.splits = TRUE).</li>
<li>Store in-bag rather than out-of-bag samples to save memory.</li>
<li>Only support sampling with replacement (as some features are ambiguously defined with bootstrapping).</li>
</ul>
</div>
<div id="fixed-11" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-11" class="anchor"></a>Fixed</h3>
<ul>
<li>Bug in IV CI construction (#209).</li>
</ul>
</div>
</div>
<div id="095---2018-01-04" class="section level2">
<h2 class="hasAnchor">
<a href="#095---2018-01-04" class="anchor"></a>[0.9.5] - 2018-01-04</h2>
<div id="added-10" class="section level3">
<h3 class="hasAnchor">
<a href="#added-10" class="anchor"></a>Added</h3>
<ul>
<li>Create a simple method for variable importance based on split frequency and depth.</li>
<li>Add support for sparse data matrices of type ‘dgCMatrix’.</li>
</ul>
</div>
<div id="changed-3" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-3" class="anchor"></a>Changed</h3>
<ul>
<li>Use RcppEigen for the R package, as opposed to the eigen source.</li>
</ul>
</div>
<div id="fixed-12" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-12" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix a few places where we were still using the old default for mtry. This issue was causing poor performance for even moderately large numbers of features.</li>
</ul>
</div>
</div>
<div id="094---2017-11-25" class="section level2">
<h2 class="hasAnchor">
<a href="#094---2017-11-25" class="anchor"></a>[0.9.4] - 2017-11-25</h2>
<div id="changed-4" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-4" class="anchor"></a>Changed</h3>
<ul>
<li>Update the default for mtry to sqrt(p) + 20.</li>
</ul>
</div>
<div id="fixed-13" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-13" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix an issue where split_frequencies fails when p = 1.</li>
<li>Use a Solaris-compatible version of std::sqrt.</li>
</ul>
</div>
</div>
<div id="093---2017-07-20" class="section level2">
<h2 class="hasAnchor">
<a href="#093---2017-07-20" class="anchor"></a>[0.9.3] - 2017-07-20</h2>
<div id="fixed-14" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-14" class="anchor"></a>Fixed</h3>
<ul>
<li>Fix an out of bounds error when there are fewer trees than threads.</li>
<li>Fix a bug in the get_tree function where the same tree was always returned.</li>
</ul>
</div>
</div>
<div id="092---2017-07-06" class="section level2">
<h2 class="hasAnchor">
<a href="#092---2017-07-06" class="anchor"></a>[0.9.2] - 2017-07-06</h2>
<div id="added-11" class="section level3">
<h3 class="hasAnchor">
<a href="#added-11" class="anchor"></a>Added</h3>
<ul>
<li>Add an experimental regularized version of the regression splitting rule.</li>
</ul>
</div>
<div id="fixed-15" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed-15" class="anchor"></a>Fixed</h3>
<ul>
<li>Several bugfixes for CRAN compatibility.</li>
</ul>
</div>
</div>
<div id="091---2017-06-27" class="section level2">
<h2 class="hasAnchor">
<a href="#091---2017-06-27" class="anchor"></a>[0.9.1] - 2017-06-27</h2>
<div id="added-12" class="section level3">
<h3 class="hasAnchor">
<a href="#added-12" class="anchor"></a>Added</h3>
<ul>
<li>Add a regression.splits option to quantile forests to allow emulating the approach in Meinhausen (2006).</li>
</ul>
</div>
</div>
<div id="090---2017-06-25" class="section level2">
<h2 class="hasAnchor">
<a href="#090---2017-06-25" class="anchor"></a>[0.9.0] - 2017-06-25</h2>
<p>First official (beta) release. The package currently supports</p>
<ul>
<li>standard regression forests</li>
<li>causal, instrumental, and quantile forests</li>
<li>confidence intervals for causal, instrumental, and regression forests</li>
<li>training ‘honest’ versions of the above forests</li>
</ul>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Julie Tibshirani, Susan Athey, Erik Sverdrup, Stefan Wager.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


